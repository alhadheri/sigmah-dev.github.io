<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&do=edit by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:56:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <title>✎ contributorguide:buildspecialversion [Sigmah wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.sigmah.org/lib/exe/opensearch.php" title="Sigmah wiki"/>
<link rel="start" href="http://wiki.sigmah.org/"/>
<link rel="contents" href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="http://wiki.sigmah.org/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="http://wiki.sigmah.org/feed.php?mode=list&amp;ns=contributorguide"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://wiki.sigmah.org/doku.php?do=export_xhtml&amp;id=contributorguide:buildspecialversion"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://wiki.sigmah.org/doku.php?do=export_raw&amp;id=contributorguide:buildspecialversion"/>
<link rel="stylesheet" type="text/css" href="http://wiki.sigmah.org/lib/exe/css.php?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='contributorguide';var JSINFO = {"id":"contributorguide:buildspecialversion","namespace":"contributorguide"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://wiki.sigmah.org/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="http://wiki.sigmah.org/lib/exe/js.php?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_edit tpl_dokuwiki     hasSidebar">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="http://wiki.sigmah.org/doku.php?id=start"  accesskey="h" title="[H]"><img src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/logo.png" width="64" height="64" alt="" /> <span>Sigmah wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=login&amp;sectok="  class="action login" rel="nofollow" title="Log In">Log In</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="http://wiki.sigmah.org/doku.php?id=start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="http://wiki.sigmah.org/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="contributorguide:buildspecialversion" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="">Show page</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Log In</option><option value="register">Register</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent Changes [R]">Recent Changes</a></li><li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=media&amp;ns=contributorguide"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=model:user_unit"  class="breadcrumbs" title="model:user_unit">user_unit</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=model:user_unit_profiles"  class="breadcrumbs" title="model:user_unit_profiles">user_unit_profiles</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=model:value"  class="breadcrumbs" title="model:value">value</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4gsoc2017"  class="breadcrumbs" title="ssoc:ideas4gsoc2017">ideas4gsoc2017</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4gsoc2016"  class="breadcrumbs" title="ssoc:ideas4gsoc2016">ideas4gsoc2016</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4soc2015"  class="breadcrumbs" title="ssoc:ideas4soc2015">ideas4soc2015</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4gsoc2014"  class="breadcrumbs" title="ssoc:ideas4gsoc2014">ideas4gsoc2014</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4gsoc2013"  class="breadcrumbs" title="ssoc:ideas4gsoc2013">ideas4gsoc2013</a></bdi> <span class="bcsep">•</span> <bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:ideas4gsoc2012"  class="breadcrumbs" title="ssoc:ideas4gsoc2012">ideas4gsoc2012</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="http://wiki.sigmah.org/doku.php?id=ssoc:sigmahsummerofcode"  class="breadcrumbs" title="ssoc:sigmahsummerofcode">sigmahsummerofcode</a></bdi></span></div>
                    </div>
    


    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>contributorguide:buildspecialversion</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    
<p>
This page is read only. You can view the source, but not change it. Ask your administrator if you think this is wrong.
</p>
    <div class="editBox" role="application">

    <div class="toolbar group">
        <div id="draft__status"></div>
        <div id="tool__bar"></div>
    </div>
    <form id="dw__editform" method="post" action="#" accept-charset="utf-8"><div class="no">
<input type="hidden" name="sectok" value="" /><input type="hidden" name="id" value="contributorguide:buildspecialversion" /><input type="hidden" name="rev" value="0" /><input type="hidden" name="date" value="1454430694" /><input type="hidden" name="prefix" value="." /><input type="hidden" name="suffix" value="" /><input type="hidden" name="changecheck" value="ca7d4404d5fbdbbf2bf6375ba0f6056e" /><input type="hidden" name="target" value="section" /><textarea name="wikitext" id="wiki__text" dir="auto" class="edit" cols="80" rows="10" tabindex="1" readonly="readonly">
# How to build a customSigmah version for my NGO? #

## Introduction: the use case ##
This page describes how to create and build a custom Sigmah version for the needs of a particular organisation.

There might be several reasons why an NGO may want to have its own custom version of Sigmah. One of the most common one is because the organisation wants to modify some wording. In Sigmah, for performance reasons, it is not possible to modify text labels of the software without creating a separate Sigmah version. Sigmah is highly flexible and many parts are modified through its extensive parametrization features, but changing labels is out of this scope. This page explains how an organisation can change the default labels and create its own Sigmah version.



## Creating a Maven profile for my special needs ##

The creation of a new release of Sigmah is done through a single file, the ''pom.xml'', processed by a single software, ''Maven''. 

In the pom.xml file, it is possible to create several profiles to match different scenarios to build a version of Sigmah. In order to reply to the special needs of an organisation, the solution is then to create a custom Maven profile in the pom.xml file that the organisation will choose each time the organisation wants to build from a new official Sigmah release the custom variation for them.

In the description of the Sigmah profile, the modifications requested to match the specific needs of the organisation will be described so that they can be reproduced for each new official release of Sigmah. 

### The modifications on the pom.xml file ###
Here is the example of the Maven profile created to reply to their need to replace the label &quot;In-house project&quot; by &quot;Implemented project&quot; in their Sigmah.

&lt;code&gt;
        
&lt;!-- ========= [ HANDICAP INTERNATIONAL SPECIAL VERSION. ] ========= --&gt;
&lt;profile&gt;
	&lt;id&gt;sigmah-custom-handicapinternational&lt;/id&gt;
	
	&lt;build&gt;
		&lt;finalName&gt;sigmah-hi_v${project.version}&lt;/finalName&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;
				&lt;artifactId&gt;replacer&lt;/artifactId&gt;
				&lt;version&gt;1.5.3&lt;/version&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;phase&gt;process-sources&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;replace&lt;/goal&gt;
						&lt;/goals&gt;                   
					&lt;/execution&gt;
				&lt;/executions&gt;
				
				&lt;configuration&gt;
					&lt;basedir&gt;${basedir}&lt;/basedir&gt;
					&lt;filesToInclude&gt;
						src/main/resources/org/sigmah/client/i18n/UIConstants.properties,
						src/main/resources/org/sigmah/client/i18n/UIConstants_en_GB.properties
					&lt;/filesToInclude&gt;
					&lt;replacements&gt;
						&lt;replacement&gt;
							&lt;token&gt;createProjectTypeNGO=In-house project&lt;/token&gt;
							&lt;value&gt;createProjectTypeNGO=Implemented project&lt;/value&gt;
						&lt;/replacement&gt;         
					&lt;/replacements&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.sigmah&lt;/groupId&gt;
				&lt;artifactId&gt;sigmah-maven-plugin&lt;/artifactId&gt;
				&lt;version&gt;${maven-sigmah-plugin.version}&lt;/version&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;phase&gt;process-sources&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;sigmah&lt;/goal&gt;
						&lt;/goals&gt;
					&lt;/execution&gt;
				&lt;/executions&gt;
				&lt;configuration&gt;
					&lt;version&gt;
						&lt;!-- Maven property: ${sigmah.version.number} --&gt;
						&lt;number&gt;${project.version}-hi&lt;/number&gt;
						&lt;!-- Maven property: ${sigmah.version.name} --&gt;
						&lt;name&gt;Handicap International custom version&lt;/name&gt; 
					&lt;/version&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
		&lt;/plugins&gt;
		
	&lt;/build&gt;

&lt;/profile&gt;
        
&lt;/code&gt;

### Sharing the modified pom.xml file ###

By creating a separate custom profile in pom.xml file, it is possible to include this profile in the official shared pom.xml file of the Sigmah project. For the official release, this custom profile will be ignored. And for the organisation having requested this custom profile, the build of the variation of the official release will always be the same and performed in a single command line. So it is highly recommended to all organisations wishing to have their own Sigmah version to request to add the profile they have created into the common pom.xml file of the Sigmah project.

To share your profile, you need to create a pull request of the modification you made on Github. See contributions rules elsewhere in this Contributor Guide to learn how.



## Building the special Sigmah version ##

### Prerequisites: Java JDK and Maven ###
If you don't have a Java JDK and Maven already installed on your computer, you need to download an install them.
  * **Java JDK**
    * Download link : http://www.oracle.com/technetwork/java/javase/downloads/index.html
    * Installation : for Windows, Java JDK is installable through a .exe installer you have to run 
  * **Maven**
    * Download link : http://maven.apache.org/
    * Installation : you just need to copy and unzip maven a the place you want, nothing to run.

### Step 1: download the source code ###
  - Go to https://github.com/sigmah-dev/sigmah/releases/latest to download the latest Sigmah version source code as a zip file
  - Unzip this file in a directory of your computer

If you haven't shared your modification of the pom.xml file, you need to modify now the pom.xml as described above.

### Step 2: build your Sigmah custom version! ###
Building your version can now be done in one single command line.
  - Open a terminal into the directory containing the pom.xml of the just downloaded Sigmah source code (or the modified version of it if you have modified it manually).
  - If we assume that the profile name you want to run is ''sigmah-custom-handicapinternational'', and that you have copied Maven into a folder ''C:\Program Files\Apache\apache-maven-3.3.9\'', then the command line you have to run is **''&quot;C:\Program Files\Apache\apache-maven-3.3.9\bin\&quot;mvn -DskipTests -Psigmah-custom-handicapinternational install''** .
  - Wait the end of the build for about half an hour if your computer is fast... (you can continue to work on other stuff on the same computer)
  - Open the ''target'' folder which has been created and filled.
  - You can now find here the freshly created ''.war'' file of your variation of Sigmah latest official release!
  - Deploy and enjoy!



</textarea>
<div id="wiki__editbar" class="editBar">
<div id="size__ctl">
</div>
</div>
</div></form>
</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>contributorguide/buildspecialversion.txt</bdi> · Last modified: 2016/02/02 17:31 by <bdi>osarrat</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do="  class="action show" accesskey="v" rel="nofollow" title="Show page [V]"><span>Show page</span></a></li><li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="http://wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&amp;do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="http://wiki.sigmah.org/lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net/" title="Powered by PHP" ><img
            src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="http://wiki.sigmah.org/lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="http://wiki.sigmah.org/lib/exe/indexer.php?id=contributorguide%3Abuildspecialversion&amp;1530809067" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:buildspecialversion&do=edit by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:56:10 GMT -->
</html>
