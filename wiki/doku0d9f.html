<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:codekeeperguide by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:44:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <title>contributorguide:codekeeperguide [Sigmah wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="contributorguide,codekeeperguide"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Sigmah wiki"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="doku9b50.html?id=contributorguide:codekeeperguide&amp;do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="feed3c04.php?mode=list&amp;ns=contributorguide"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="doku1ed9.html?do=export_xhtml&amp;id=contributorguide:codekeeperguide"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="codekeeperguideec60.txt?do=export_raw&amp;id=contributorguide:codekeeperguide"/>
<link rel="canonical" href="doku0d9f.html?id=contributorguide:codekeeperguide"/>
<link rel="stylesheet" type="text/css" href="lib/exe/cssaf43.css?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='contributorguide';var JSINFO = {"id":"contributorguide:codekeeperguide","namespace":"contributorguide"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jquery1d4f.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jsaf43.php?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="doku81aa.html?id=start"  accesskey="h" title="[H]"><img src="lib/tpl/dokuwiki/images/logo.png" width="64" height="64" alt="" /> <span>Sigmah wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="doku1af0.html?id=contributorguide:codekeeperguide&amp;do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="doku9cf5.html?id=contributorguide:codekeeperguide&amp;do=login&amp;sectok="  class="action login" rel="nofollow" title="Log In">Log In</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="http://wiki.sigmah.org/doku.php?id=start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="http://wiki.sigmah.org/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="contributorguide:codekeeperguide" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Log In</option><option value="register">Register</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li><a href="dokub26c.html?id=contributorguide:codekeeperguide&amp;do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent Changes [R]">Recent Changes</a></li><li><a href="dokucc52.html?id=contributorguide:codekeeperguide&amp;do=media&amp;ns=contributorguide"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="doku9b50.html?id=contributorguide:codekeeperguide&amp;do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="dokue387.html?id=contributorguide:preparerunningenvironment"  class="breadcrumbs" title="contributorguide:preparerunningenvironment">preparerunningenvironment</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokud070.html?id=contributorguide:setupide"  class="breadcrumbs" title="contributorguide:setupide">setupide</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku6318.html?id=contributorguide:netbeans"  class="breadcrumbs" title="contributorguide:netbeans">netbeans</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku0994.html?id=contributorguide:eclipse"  class="breadcrumbs" title="contributorguide:eclipse">eclipse</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku7c37.html?id=contributorguide:intellijidea"  class="breadcrumbs" title="contributorguide:intellijidea">intellijidea</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku620b.html?id=contributorguide:mockups"  class="breadcrumbs" title="contributorguide:mockups">mockups</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokuc325.html?id=contributorguide:performanceoptimisation"  class="breadcrumbs" title="contributorguide:performanceoptimisation">performanceoptimisation</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokucabe.html?id=contributorguide:troubleshooting"  class="breadcrumbs" title="contributorguide:troubleshooting">troubleshooting</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokue0b6.html?id=contributorguide:buildspecialversion"  class="breadcrumbs" title="contributorguide:buildspecialversion">buildspecialversion</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="doku0d9f.html?id=contributorguide:codekeeperguide"  class="breadcrumbs" title="contributorguide:codekeeperguide">codekeeperguide</a></bdi></span></div>
                    </div>
    


    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <div id="dokuwiki__aside"><div class="pad aside include group">
                    <h3 class="toggle">Sidebar</h3>
                    <div class="content"><div class="group">
                                                                        <ul>
<li class="level1 node"><div class="li"> <a href="doku4692.html?id=contributorguide:contributorguide" class="wikilink1" title="contributorguide:contributorguide">Overview</a></div>
<ul>
<li class="level2"><div class="li"> Organizations involved and roles</div>
</li>
<li class="level2"><div class="li"> <a href="dokub5e4.html?id=contributorguide:projectcommunitycommunication" class="wikilink1" title="contributorguide:projectcommunitycommunication">Communication tools for the contributors</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <a href="doku032a.html?id=contributorguide:contributionrules" class="wikilink1" title="contributorguide:contributionrules">Contribution rules</a></div>
<ul>
<li class="level2"><div class="li"> <a href="doku8376.html?id=contributorguide:versioncycle" class="wikilink1" title="contributorguide:versioncycle">Versions cycle</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <a href="dokua44f.html?id=contributorguide:building" class="wikilink1" title="contributorguide:building">Build up environment</a></div>
<ol>
<li class="level2"><div class="li"> <a href="dokub007.html?id=contributorguide:preparebuildenvironment" class="wikilink1" title="contributorguide:preparebuildenvironment">Prepare your build environment</a></div>
</li>
<li class="level2"><div class="li"> <a href="dokue387.html?id=contributorguide:preparerunningenvironment" class="wikilink1" title="contributorguide:preparerunningenvironment">Prepare your running environment</a></div>
</li>
<li class="level2 node"><div class="li"> <a href="dokud070.html?id=contributorguide:setupide" class="wikilink1" title="contributorguide:setupide">Set up your IDE</a></div>
<ul>
<li class="level3"><div class="li"> <span class="curid"><a href="doku6318.html?id=contributorguide:netbeans" class="wikilink1" title="contributorguide:netbeans">Netbeans</a></span></div>
</li>
<li class="level3"><div class="li"> <a href="doku0994.html?id=contributorguide:eclipse" class="wikilink1" title="contributorguide:eclipse">Eclipse</a></div>
</li>
<li class="level3"><div class="li"> <a href="doku7c37.html?id=contributorguide:intellijidea" class="wikilink1" title="contributorguide:intellijidea">Intellij IDEA</a></div>
</li>
</ul>
</li>
</ol>
</li>
<li class="level1 node"><div class="li"> Understanding the code base</div>
<ul>
<li class="level2"><div class="li"> Application architecture</div>
</li>
<li class="level2"><div class="li"> Domain objects</div>
</li>
<li class="level2"><div class="li"> Other design topics</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="doku620b.html?id=contributorguide:mockups" class="wikilink1" title="contributorguide:mockups">Mockups guidelines</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokuc325.html?id=contributorguide:performanceoptimisation" class="wikilink1" title="contributorguide:performanceoptimisation">Performance optimisation</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokucabe.html?id=contributorguide:troubleshooting" class="wikilink1" title="contributorguide:troubleshooting">Troubleshooting</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokue0b6.html?id=contributorguide:buildspecialversion" class="wikilink1" title="contributorguide:buildspecialversion">Build custom Sigmah version for my NGO</a></div>
</li>
<li class="level1"><div class="li"> <a href="doku0d9f.html?id=contributorguide:codekeeperguide" class="wikilink1" title="contributorguide:codekeeperguide">Code keeper guide</a></div>
</li>
<li class="level1"><div class="li"> <a href="doku17a0.html?id=contributorguide:schemachangelog" class="wikilink1" title="contributorguide:schemachangelog">Schema changelog</a></div>
</li>
</ul>
                                            </div></div>
                </div></div><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>contributorguide:codekeeperguide</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#code_keeper_guide">Code Keeper Guide</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#who_is_the_code_keeper_and_what_is_his_role">Who is the code keeper and what is his role</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#prerequisites">Prerequisites</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#make_it_easy_for_everyone_to_build_and_run_sigmah_on_its_local_development_environment">Make it easy for everyone to build and run Sigmah on its local development environment</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#why">Why?</a></div></li>
<li class="level3"><div class="li"><a href="#how">How?</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#making_sure_that_official_sigmah_repository_is_sane">Making sure that official sigmah repository is sane</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#why1">Why?</a></div></li>
<li class="level3"><div class="li"><a href="#how1">How?</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#keep_the_code_base_clean">Keep the code base clean</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#why2">Why?</a></div></li>
<li class="level3"><div class="li"><a href="#how2">How?</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#releasing">Releasing</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#prepare_your_release_environment">Prepare your release environment</a></div></li>
<li class="level3"><div class="li"><a href="#release_process">Release process</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="code_keeper_guide">Code Keeper Guide</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="who_is_the_code_keeper_and_what_is_his_role">Who is the code keeper and what is his role</h2>
<div class="level2">

<p>
As the code keeper, you are not working as a developer on the project but your work is to make the developers life easy, and to keep the contributing process enjoyable.
</p>

<p>
As the code keeper, you are in charge of
</p>
<ul>
<li class="level1"><div class="li">Make it easy for everyone to build and run Sigmah on its local development environment</div>
</li>
<li class="level1"><div class="li">Making sure that official sigmah repository is sane</div>
</li>
<li class="level1"><div class="li">Keep the source code clean</div>
</li>
<li class="level1"><div class="li">Maintaining a release process which ensure delivered artifacts are high-quality</div>
</li>
<li class="level1"><div class="li">Releasing</div>
</li>
</ul>

<p>
Your role is critical, especially since Sigmah is developed by multiple organisations and individuals. Your goal is to make everyone work together, easily, withtout friction and headaches.
</p>

<p>
This guide is here to help you achieving this and above goals are detailed below.
</p>

</div>

<h3 class="sectionedit3" id="prerequisites">Prerequisites</h3>
<div class="level3">

<p>
As the code keeper guide, you are not a developer on the project but you managing developers so you are expecting to be a developer or to have practiced development as a day-to-day activity. A past experience working on the Sigmah codebase would be a big plus. Also, knowledge of the technical stack (Java, GWT, Hibernate, etc.) is a must-have.
</p>

<p>
Since you will be working on the build, knowing <a href="https://maven.apache.org/maven-release" class="urlextern" title="https://maven.apache.org/maven-release" rel="nofollow">Maven and its release process</a> will help.
</p>

<p>
Collaboration on team is based on git SCM and github as a collaboration platform, so you should be at ease with those tools.
</p>

</div>

<h2 class="sectionedit4" id="make_it_easy_for_everyone_to_build_and_run_sigmah_on_its_local_development_environment">Make it easy for everyone to build and run Sigmah on its local development environment</h2>
<div class="level2">

</div>

<h3 class="sectionedit5" id="why">Why?</h3>
<div class="level3">

<p>
We want everyone to easily become a contributor so, as a code-keeper guide, you must care about that the very firsts steps of a wannabe contributor won&#039;t be discouraged by having to take 3 days to make something work.
</p>

<p>
The motto here is “anybody can get the sources and build successfully at anytime”.
</p>

</div>

<h3 class="sectionedit6" id="how">How?</h3>
<div class="level3">

<p>
You have to make sure the master branch of the official repo (this is the HEAD so, this is what anybody who is cloning the repo will get) is always ready to build effortlessly. People want to works on their issue, not going deep in a cluttered build process or a fighing for a dependency resolution.
</p>

<p>
There is a <a href="https://travis-ci.org/sigmah-dev/sigmah" class="urlextern" title="https://travis-ci.org/sigmah-dev/sigmah" rel="nofollow">travis build</a> that check that. The code keeper must maintain it. Be aware that the build is not stand-alone and rely on a postgresql instance with a proper, up-to-date schema is here: see <a href="https://github.com/sigmah-dev/sigmah/blob/master/.travis.yml" class="urlextern" title="https://github.com/sigmah-dev/sigmah/blob/master/.travis.yml" rel="nofollow">`.travis.yml`</a> file and <a href="https://docs.travis-ci.com/user/database-setup/#PostgreSQL" class="urlextern" title="https://docs.travis-ci.com/user/database-setup/#PostgreSQL" rel="nofollow">travis postgresql database setup documentation</a> for details.
</p>

<p>
If the build fail, find the culprit! Travis keep an history of all the builds and a build is made after each push so it would be easy to find which commit broke the build.
</p>

<p>
Run a build locally to make sure you have the same error as given be travis-ci. If not, it may be an environmental issue (your database is in a different state, Java versions differ, Maven versions differ… that sometimes hard to guess).
</p>

<p>
Running Sigmah require a database, we tried to ease that for developer by providing a one-line command way to create all the database schema. Check that it works, all the flyway migration files should be self-sufficient for Sigmah to work properly!
</p>

</div>

<h2 class="sectionedit7" id="making_sure_that_official_sigmah_repository_is_sane">Making sure that official sigmah repository is sane</h2>
<div class="level2">

</div>

<h3 class="sectionedit8" id="why1">Why?</h3>
<div class="level3">

<p>
The source code repository is more than a way for the developers to synchronize. The repository gathers more precious information than only the last version of the code.
</p>

<p>
The git history provide many information about the way Sigmah have been gradually built. When the code is not self-explenatory, the history may reveal a lot about the intentions, the errors, the whys. The history of all the commits made on the project forms a huge base of information that may be of great help to find the source of bugs.
</p>

</div>

<h3 class="sectionedit9" id="how1">How?</h3>
<div class="level3">

<p>
As the code keeper, your are also responsible for keeping the history clean and relevant to what really occured during the development process.
</p>
<ul>
<li class="level1"><div class="li">check that every commit author is the actual author, so we can reach someone for help</div>
</li>
<li class="level1"><div class="li">merge one thing at once, so that each possible state of the source-code has its own commit. If you want to fix something while merging, commit on the branch first. The merge commit should have no other modification than
  conflict-resolutions</div>
</li>
<li class="level1"><div class="li">keep the graph linear as far as possible: merge branches in master, avoir creating branches bases and branches and merge everything into everything, keep the branches short-lived: a branch with no commit since days should be merged or deleted.</div>
</li>
</ul>

</div>

<h2 class="sectionedit10" id="keep_the_code_base_clean">Keep the code base clean</h2>
<div class="level2">

</div>

<h3 class="sectionedit11" id="why2">Why?</h3>
<div class="level3">

<p>
Well, this one is obvious. It&#039;s easier and funnier to work on a application well-designed, with a solid architecture and maintenable code. Noone enjoy creating something when everyline is puzzling.
</p>

</div>

<h3 class="sectionedit12" id="how2">How?</h3>
<div class="level3">

<p>
As the code-keeper, you are not a developer, so can&#039;t control the quality of the code written but, at least, you can check it.
</p>

<p>
The github pull-requests mechanism is a great tool for that.
</p>
<ul>
<li class="level1"><div class="li">you can comment every code contributed and ask for corrections, it&#039;s a way to ensure that all the developers share a common set of practices (which one doesn&#039;t matter, consistency over the code base matters)</div>
</li>
<li class="level1"><div class="li">developers may have opinions, preferences, habits, it&#039;s understandable, but consistency matters. If something have been designed with immutability, statelessness, or with another concern, respect the choice. Noone can&#039;t rewrite everything.</div>
</li>
<li class="level1"><div class="li">as explained above, we want to keep Sigmah easy to deploy so if a code change require a modification of the schema, a migration file is present and in a path making it suitable for flyway to detect and run it</div>
</li>
</ul>

<p>
Some common stuffs to review on the code:
</p>
<ul>
<li class="level1"><div class="li">missing comments on complex code</div>
</li>
<li class="level1"><div class="li">numerous conditional cases algorithm without future-proof catch-all (ie, switch whitout defaulting to something like <code>throw new IllegalStateException()</code>).</div>
</li>
<li class="level1"><div class="li">cryptic variables/method name</div>
</li>
<li class="level1"><div class="li">no respect for basic code conventions (like <code>lowerCaseForVariableNames</code>)</div>
</li>
<li class="level1"><div class="li">smart usage of the JDK (use the suitable Collection implementation)</div>
</li>
<li class="level1"><div class="li">immutability is prefererred over mutability (<code>final</code> everywhere, value objects without setters)</div>
</li>
<li class="level1"><div class="li">does the application still work in deconnected mode?</div>
</li>
<li class="level1"><div class="li">could unit test be added (with a reasonable cost/quality earned ratio)?</div>
</li>
<li class="level1"><div class="li">could preconditions be added (should the application fail if this parameter is <code>null</code>)?</div>
</li>
<li class="level1"><div class="li">are all the opened ressources lead to a <code>Closeable#close()</code> call in a <code>finally</code> statement?</div>
</li>
</ul>

<p>
This list could be infinitly extended, it&#039;s a life of development. You may complete this lists with the problem you found in the incoming PR.
</p>

<p>
Don&#039;t forget that <em>talking about what is wrong with the developer, so he can&#039;t do better next time</em> is a better attitude than <em>let&#039;s fix this now without telling anyone and merge</em>. The long term goal here is that developers should submit pull-requests with confidence and everything should be OK at the first try.
</p>

<p>
You may read ancient pull-requests to get examples of discussion. It&#039;s discussion so everyone can improve (you could lean new things!), it&#039;s not developer-shaming. Remembre that code is wrong, not coders.
</p>

</div>

<h2 class="sectionedit13" id="releasing">Releasing</h2>
<div class="level2">

<p>
The pom version should be set according to <a href="doku8376.html?id=contributorguide:versioncycle" class="wikilink1" title="contributorguide:versioncycle">versions cycle</a>.
</p>

</div>

<h3 class="sectionedit14" id="prepare_your_release_environment">Prepare your release environment</h3>
<div class="level3">

<p>
Since the release process upload stuff to github, maven will need a token to authenticate on github.
</p>

<p>
Connect to github and in settings, choose “Personnal access token”. Create a new token and make sure the scope <code>public_repo</code> is checked.
</p>

<p>
Put the generated token in you maven <code>settings.xml</code> file, like so:
</p>
<dl class="file">
<dt><a href="snippet0c3c.xml?do=export_code&amp;id=contributorguide:codekeeperguide&amp;codeblock=0" title="Download Snippet" class="mediafile mf_xml">snippet.xml</a></dt>
<dd><pre class="code file xml"><span class="sc3"><span class="re1">&lt;settings<span class="re2">&gt;</span></span></span>
  <span class="sc-1">&lt;!-- ... --&gt;</span>
  <span class="sc3"><span class="re1">&lt;servers<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;server<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>github<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;privateKey<span class="re2">&gt;</span></span></span>1111111111111111111111111111111111111111<span class="sc3"><span class="re1">&lt;/privateKey<span class="re2">&gt;</span></span></span> <span class="sc-1">&lt;!-- replace this by your token --&gt;</span>
  <span class="sc3"><span class="re1">&lt;/servers<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/settings<span class="re2">&gt;</span></span></span></pre>
</dd></dl>

</div>

<h3 class="sectionedit15" id="release_process">Release process</h3>
<div class="level3">

<p>
Run a first build to make sure everything is OK.
</p>

<p>
Make sure no file miss its license header (if headers are added, commit those changes):
</p>
<dl class="file">
<dt><a href="snippet5afb.bash?do=export_code&amp;id=contributorguide:codekeeperguide&amp;codeblock=1" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">mvn license:update-file-header</pre>
</dd></dl>

<p>
If it&#039;s not an RC release, enable the <code>sigmah-check-bundles-integrity</code> profile.
</p>
<dl class="file">
<dt><a href="snippetea96.bash?do=export_code&amp;id=contributorguide:codekeeperguide&amp;codeblock=2" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">mvn <span class="kw2">install</span> <span class="re5">-Psigmah-check-bundles-integrity</span></pre>
</dd></dl>

<p>
<strong>Automatic publication of basic version release</strong>
</p>

<p>
<em>If the release is a basic version release (to be discussed with Sigmah product owner), you can proceed with following steps to automatically publish the release .war file on Github.</em>
</p>

<p>
On branch master,
</p>
<dl class="file">
<dt><a href="snippetf874.bash?do=export_code&amp;id=contributorguide:codekeeperguide&amp;codeblock=3" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">mvn release:prepare
mvn release:perform</pre>
</dd></dl>

<p>
The .war file with be published to <a href="https://github.com/sigmah-dev/sigmah/releases" class="urlextern" title="https://github.com/sigmah-dev/sigmah/releases" rel="nofollow">github releases page</a>.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>contributorguide/codekeeperguide.txt</bdi> · Last modified: 2017/09/12 13:00 by <bdi>osarrat</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dokubfa5.html?id=contributorguide:codekeeperguide&amp;do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="doku1076.html?id=contributorguide:codekeeperguide&amp;do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="dokud4cf.html?id=contributorguide:codekeeperguide&amp;do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net/" title="Powered by PHP" ><img
            src="lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="lib/exe/indexerf1d9.gif?id=contributorguide%3Acodekeeperguide&amp;1530808578" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:codekeeperguide by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:44:36 GMT -->
</html>
