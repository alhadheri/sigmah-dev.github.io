<!DOCTYPE html>
<html lang="en" dir="ltr">

<!-- Mirrored from wiki.sigmah.org/doku.php?do=export_xhtml&id=contributorguide:buildspecialversion by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:56:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8" />
  <title>contributorguide:buildspecialversion</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="contributorguide,buildspecialversion"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Sigmah wiki"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="dokub9ee.html?id=contributorguide:buildspecialversion&amp;do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="feed3c04.php?mode=list&amp;ns=contributorguide"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="doku49c3.html?do=export_xhtml&amp;id=contributorguide:buildspecialversion"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="buildspecialversion109e.txt?do=export_raw&amp;id=contributorguide:buildspecialversion"/>
<link rel="canonical" href="dokue0b6.html?id=contributorguide:buildspecialversion"/>
<link rel="stylesheet" type="text/css" href="lib/exe/cssaf43.css?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='contributorguide';var JSINFO = {"id":"contributorguide:buildspecialversion","namespace":"contributorguide"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jquery1d4f.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jsaf43.php?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"></script>
<!--<![endif]-->
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#how_to_build_a_customsigmah_version_for_my_ngo">How to build a customSigmah version for my NGO?</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#introductionthe_use_case">Introduction: the use case</a></div></li>
<li class="level2"><div class="li"><a href="#creating_a_maven_profile_for_my_special_needs">Creating a Maven profile for my special needs</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#the_modifications_on_the_pomxml_file">The modifications on the pom.xml file</a></div></li>
<li class="level3"><div class="li"><a href="#sharing_the_modified_pomxml_file">Sharing the modified pom.xml file</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#building_the_special_sigmah_version">Building the special Sigmah version</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#prerequisitesjava_jdk_and_maven">Prerequisites: Java JDK and Maven</a></div></li>
<li class="level3"><div class="li"><a href="#step_1download_the_source_code">Step 1: download the source code</a></div></li>
<li class="level3"><div class="li"><a href="#step_2build_your_sigmah_custom_version">Step 2: build your Sigmah custom version!</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="how_to_build_a_customsigmah_version_for_my_ngo">How to build a customSigmah version for my NGO?</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "How to build a customSigmah version for my NGO?" [0-52] -->
<h2 class="sectionedit2" id="introductionthe_use_case">Introduction: the use case</h2>
<div class="level2">

<p>
This page describes how to create and build a custom Sigmah version for the needs of a particular organisation.
</p>

<p>
There might be several reasons why an NGO may want to have its own custom version of Sigmah. One of the most common one is because the organisation wants to modify some wording. In Sigmah, for performance reasons, it is not possible to modify text labels of the software without creating a separate Sigmah version. Sigmah is highly flexible and many parts are modified through its extensive parametrization features, but changing labels is out of this scope. This page explains how an organisation can change the default labels and create its own Sigmah version.
</p>

</div>
<!-- EDIT2 SECTION "Introduction: the use case" [53-764] -->
<h2 class="sectionedit3" id="creating_a_maven_profile_for_my_special_needs">Creating a Maven profile for my special needs</h2>
<div class="level2">

<p>
The creation of a new release of Sigmah is done through a single file, the <code>pom.xml</code>, processed by a single software, <code>Maven</code>. 
</p>

<p>
In the pom.xml file, it is possible to create several profiles to match different scenarios to build a version of Sigmah. In order to reply to the special needs of an organisation, the solution is then to create a custom Maven profile in the pom.xml file that the organisation will choose each time the organisation wants to build from a new official Sigmah release the custom variation for them.
</p>

<p>
In the description of the Sigmah profile, the modifications requested to match the specific needs of the organisation will be described so that they can be reproduced for each new official release of Sigmah. 
</p>

</div>
<!-- EDIT3 SECTION "Creating a Maven profile for my special needs" [765-1558] -->
<h3 class="sectionedit4" id="the_modifications_on_the_pomxml_file">The modifications on the pom.xml file</h3>
<div class="level3">

<p>
Here is the example of the Maven profile created to reply to their need to replace the label “In-house project” by “Implemented project” in their Sigmah.
</p>
<pre class="code">        
&lt;!-- ========= [ HANDICAP INTERNATIONAL SPECIAL VERSION. ] ========= --&gt;
&lt;profile&gt;
	&lt;id&gt;sigmah-custom-handicapinternational&lt;/id&gt;
	
	&lt;build&gt;
		&lt;finalName&gt;sigmah-hi_v${project.version}&lt;/finalName&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;
				&lt;artifactId&gt;replacer&lt;/artifactId&gt;
				&lt;version&gt;1.5.3&lt;/version&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;phase&gt;process-sources&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;replace&lt;/goal&gt;
						&lt;/goals&gt;                   
					&lt;/execution&gt;
				&lt;/executions&gt;
				
				&lt;configuration&gt;
					&lt;basedir&gt;${basedir}&lt;/basedir&gt;
					&lt;filesToInclude&gt;
						src/main/resources/org/sigmah/client/i18n/UIConstants.properties,
						src/main/resources/org/sigmah/client/i18n/UIConstants_en_GB.properties
					&lt;/filesToInclude&gt;
					&lt;replacements&gt;
						&lt;replacement&gt;
							&lt;token&gt;createProjectTypeNGO=In-house project&lt;/token&gt;
							&lt;value&gt;createProjectTypeNGO=Implemented project&lt;/value&gt;
						&lt;/replacement&gt;         
					&lt;/replacements&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.sigmah&lt;/groupId&gt;
				&lt;artifactId&gt;sigmah-maven-plugin&lt;/artifactId&gt;
				&lt;version&gt;${maven-sigmah-plugin.version}&lt;/version&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;phase&gt;process-sources&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;sigmah&lt;/goal&gt;
						&lt;/goals&gt;
					&lt;/execution&gt;
				&lt;/executions&gt;
				&lt;configuration&gt;
					&lt;version&gt;
						&lt;!-- Maven property: ${sigmah.version.number} --&gt;
						&lt;number&gt;${project.version}-hi&lt;/number&gt;
						&lt;!-- Maven property: ${sigmah.version.name} --&gt;
						&lt;name&gt;Handicap International custom version&lt;/name&gt; 
					&lt;/version&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
		&lt;/plugins&gt;
		
	&lt;/build&gt;

&lt;/profile&gt;
        </pre>

</div>
<!-- EDIT4 SECTION "The modifications on the pom.xml file" [1559-3485] -->
<h3 class="sectionedit5" id="sharing_the_modified_pomxml_file">Sharing the modified pom.xml file</h3>
<div class="level3">

<p>
By creating a separate custom profile in pom.xml file, it is possible to include this profile in the official shared pom.xml file of the Sigmah project. For the official release, this custom profile will be ignored. And for the organisation having requested this custom profile, the build of the variation of the official release will always be the same and performed in a single command line. So it is highly recommended to all organisations wishing to have their own Sigmah version to request to add the profile they have created into the common pom.xml file of the Sigmah project.
</p>

<p>
To share your profile, you need to create a pull request of the modification you made on Github. See contributions rules elsewhere in this Contributor Guide to learn how.
</p>

</div>
<!-- EDIT5 SECTION "Sharing the modified pom.xml file" [3486-4287] -->
<h2 class="sectionedit6" id="building_the_special_sigmah_version">Building the special Sigmah version</h2>
<div class="level2">

</div>
<!-- EDIT6 SECTION "Building the special Sigmah version" [4288-4330] -->
<h3 class="sectionedit7" id="prerequisitesjava_jdk_and_maven">Prerequisites: Java JDK and Maven</h3>
<div class="level3">

<p>
If you don&#039;t have a Java JDK and Maven already installed on your computer, you need to download an install them.
</p>
<ul>
<li class="level1 node"><div class="li"> <strong>Java JDK</strong></div>
<ul>
<li class="level2"><div class="li"> Download link : <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="urlextern" title="http://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="nofollow">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></div>
</li>
<li class="level2"><div class="li"> Installation : for Windows, Java JDK is installable through a .exe installer you have to run </div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <strong>Maven</strong></div>
<ul>
<li class="level2"><div class="li"> Download link : <a href="http://maven.apache.org/" class="urlextern" title="http://maven.apache.org/" rel="nofollow">http://maven.apache.org/</a></div>
</li>
<li class="level2"><div class="li"> Installation : you just need to copy and unzip maven a the place you want, nothing to run.</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT7 SECTION "Prerequisites: Java JDK and Maven" [4331-4850] -->
<h3 class="sectionedit8" id="step_1download_the_source_code">Step 1: download the source code</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Go to <a href="https://github.com/sigmah-dev/sigmah/releases/latest" class="urlextern" title="https://github.com/sigmah-dev/sigmah/releases/latest" rel="nofollow">https://github.com/sigmah-dev/sigmah/releases/latest</a> to download the latest Sigmah version source code as a zip file</div>
</li>
<li class="level1"><div class="li"> Unzip this file in a directory of your computer</div>
</li>
</ol>

<p>
If you haven&#039;t shared your modification of the pom.xml file, you need to modify now the pom.xml as described above.
</p>

</div>
<!-- EDIT8 SECTION "Step 1: download the source code" [4851-5188] -->
<h3 class="sectionedit9" id="step_2build_your_sigmah_custom_version">Step 2: build your Sigmah custom version!</h3>
<div class="level3">

<p>
Building your version can now be done in one single command line.
</p>
<ol>
<li class="level1"><div class="li"> Open a terminal into the directory containing the pom.xml of the just downloaded Sigmah source code (or the modified version of it if you have modified it manually).</div>
</li>
<li class="level1"><div class="li"> If we assume that the profile name you want to run is <code>sigmah-custom-handicapinternational</code>, and that you have copied Maven into a folder <code>C:\Program Files\Apache\apache-maven-3.3.9\</code>, then the command line you have to run is <strong><code>“C:\Program Files\Apache\apache-maven-3.3.9\bin\”mvn -DskipTests -Psigmah-custom-handicapinternational install</code></strong> .</div>
</li>
<li class="level1"><div class="li"> Wait the end of the build for about half an hour if your computer is fast… (you can continue to work on other stuff on the same computer)</div>
</li>
<li class="level1"><div class="li"> Open the <code>target</code> folder which has been created and filled.</div>
</li>
<li class="level1"><div class="li"> You can now find here the freshly created <code>.war</code> file of your variation of Sigmah latest official release!</div>
</li>
<li class="level1"><div class="li"> Deploy and enjoy!</div>
</li>
</ol>

</div>
<!-- EDIT9 SECTION "Step 2: build your Sigmah custom version!" [5189-] --></div>
</body>

<!-- Mirrored from wiki.sigmah.org/doku.php?do=export_xhtml&id=contributorguide:buildspecialversion by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:56:10 GMT -->
</html>
