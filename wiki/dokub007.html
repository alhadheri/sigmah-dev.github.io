<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:preparebuildenvironment by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:42:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <title>contributorguide:preparebuildenvironment [Sigmah wiki]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="contributorguide,preparebuildenvironment"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Sigmah wiki"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="doku9725.html?id=contributorguide:preparebuildenvironment&amp;do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="feed3c04.php?mode=list&amp;ns=contributorguide"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="doku9a31.html?do=export_xhtml&amp;id=contributorguide:preparebuildenvironment"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="preparebuildenvironment3b5c.txt?do=export_raw&amp;id=contributorguide:preparebuildenvironment"/>
<link rel="canonical" href="dokub007.html?id=contributorguide:preparebuildenvironment"/>
<link rel="stylesheet" type="text/css" href="lib/exe/cssaf43.css?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='contributorguide';var JSINFO = {"id":"contributorguide:preparebuildenvironment","namespace":"contributorguide"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jquery1d4f.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jsaf43.php?t=dokuwiki&amp;tseed=74cd2fc0434d10331b9bc01ea3827dea"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="lib/tpl/dokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="lib/tpl/dokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1><a href="doku81aa.html?id=start"  accesskey="h" title="[H]"><img src="lib/tpl/dokuwiki/images/logo.png" width="64" height="64" alt="" /> <span>Sigmah wiki</span></a></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="doku8746.html?id=contributorguide:preparebuildenvironment&amp;do=register"  class="action register" rel="nofollow" title="Register">Register</a></li><li><a href="doku5722.html?id=contributorguide:preparebuildenvironment&amp;do=login&amp;sectok="  class="action login" rel="nofollow" title="Log In">Log In</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
            <form action="http://wiki.sigmah.org/doku.php?id=start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="http://wiki.sigmah.org/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="contributorguide:preparebuildenvironment" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Show pagesource</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Recent Changes</option><option value="media">Media Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="login">Log In</option><option value="register">Register</option></optgroup></select><button type="submit">&gt;</button></div></form>            </div>
            <ul>
                <li><a href="doku7993.html?id=contributorguide:preparebuildenvironment&amp;do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent Changes [R]">Recent Changes</a></li><li><a href="doku6691.html?id=contributorguide:preparebuildenvironment&amp;do=media&amp;ns=contributorguide"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a></li><li><a href="doku9725.html?id=contributorguide:preparebuildenvironment&amp;do=index"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="doku98ce.html?id=optimisation:conception"  class="breadcrumbs" title="optimisation:conception">conception</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku1ba3.html?id=administratorguide:installingsigmah"  class="breadcrumbs" title="administratorguide:installingsigmah">installingsigmah</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku17a0.html?id=contributorguide:schemachangelog"  class="breadcrumbs" title="contributorguide:schemachangelog">schemachangelog</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku2081.html?id=administratorguide:dataseparation"  class="breadcrumbs" title="administratorguide:dataseparation">dataseparation</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokud962.html?id=administratorguide:solrinstallation"  class="breadcrumbs" title="administratorguide:solrinstallation">solrinstallation</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokub5e4.html?id=contributorguide:projectcommunitycommunication"  class="breadcrumbs" title="contributorguide:projectcommunitycommunication">projectcommunitycommunication</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku032a.html?id=contributorguide:contributionrules"  class="breadcrumbs" title="contributorguide:contributionrules">contributionrules</a></bdi> <span class="bcsep">•</span> <bdi><a href="doku8376.html?id=contributorguide:versioncycle"  class="breadcrumbs" title="contributorguide:versioncycle">versioncycle</a></bdi> <span class="bcsep">•</span> <bdi><a href="dokua44f.html?id=contributorguide:building"  class="breadcrumbs" title="contributorguide:building">building</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="dokub007.html?id=contributorguide:preparebuildenvironment"  class="breadcrumbs" title="contributorguide:preparebuildenvironment">preparebuildenvironment</a></bdi></span></div>
                    </div>
    


    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <div id="dokuwiki__aside"><div class="pad aside include group">
                    <h3 class="toggle">Sidebar</h3>
                    <div class="content"><div class="group">
                                                                        <ul>
<li class="level1 node"><div class="li"> <a href="doku4692.html?id=contributorguide:contributorguide" class="wikilink1" title="contributorguide:contributorguide">Overview</a></div>
<ul>
<li class="level2"><div class="li"> Organizations involved and roles</div>
</li>
<li class="level2"><div class="li"> <a href="dokub5e4.html?id=contributorguide:projectcommunitycommunication" class="wikilink1" title="contributorguide:projectcommunitycommunication">Communication tools for the contributors</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <a href="doku032a.html?id=contributorguide:contributionrules" class="wikilink1" title="contributorguide:contributionrules">Contribution rules</a></div>
<ul>
<li class="level2"><div class="li"> <a href="doku8376.html?id=contributorguide:versioncycle" class="wikilink1" title="contributorguide:versioncycle">Versions cycle</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <a href="dokua44f.html?id=contributorguide:building" class="wikilink1" title="contributorguide:building">Build up environment</a></div>
<ol>
<li class="level2"><div class="li"> <a href="dokub007.html?id=contributorguide:preparebuildenvironment" class="wikilink1" title="contributorguide:preparebuildenvironment">Prepare your build environment</a></div>
</li>
<li class="level2"><div class="li"> <a href="dokue387.html?id=contributorguide:preparerunningenvironment" class="wikilink1" title="contributorguide:preparerunningenvironment">Prepare your running environment</a></div>
</li>
<li class="level2 node"><div class="li"> <a href="dokud070.html?id=contributorguide:setupide" class="wikilink1" title="contributorguide:setupide">Set up your IDE</a></div>
<ul>
<li class="level3"><div class="li"> <span class="curid"><a href="doku6318.html?id=contributorguide:netbeans" class="wikilink1" title="contributorguide:netbeans">Netbeans</a></span></div>
</li>
<li class="level3"><div class="li"> <a href="doku0994.html?id=contributorguide:eclipse" class="wikilink1" title="contributorguide:eclipse">Eclipse</a></div>
</li>
<li class="level3"><div class="li"> <a href="doku7c37.html?id=contributorguide:intellijidea" class="wikilink1" title="contributorguide:intellijidea">Intellij IDEA</a></div>
</li>
</ul>
</li>
</ol>
</li>
<li class="level1 node"><div class="li"> Understanding the code base</div>
<ul>
<li class="level2"><div class="li"> Application architecture</div>
</li>
<li class="level2"><div class="li"> Domain objects</div>
</li>
<li class="level2"><div class="li"> Other design topics</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="doku620b.html?id=contributorguide:mockups" class="wikilink1" title="contributorguide:mockups">Mockups guidelines</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokuc325.html?id=contributorguide:performanceoptimisation" class="wikilink1" title="contributorguide:performanceoptimisation">Performance optimisation</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokucabe.html?id=contributorguide:troubleshooting" class="wikilink1" title="contributorguide:troubleshooting">Troubleshooting</a></div>
</li>
<li class="level1"><div class="li"> <a href="dokue0b6.html?id=contributorguide:buildspecialversion" class="wikilink1" title="contributorguide:buildspecialversion">Build custom Sigmah version for my NGO</a></div>
</li>
<li class="level1"><div class="li"> <a href="doku0d9f.html?id=contributorguide:codekeeperguide" class="wikilink1" title="contributorguide:codekeeperguide">Code keeper guide</a></div>
</li>
<li class="level1"><div class="li"> <a href="doku17a0.html?id=contributorguide:schemachangelog" class="wikilink1" title="contributorguide:schemachangelog">Schema changelog</a></div>
</li>
</ul>
                                            </div></div>
                </div></div><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>contributorguide:preparebuildenvironment</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#step_0prerequisites">Step 0: prerequisites</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#environment_and_tooling">Environment and tooling</a></div></li>
<li class="level2"><div class="li"><a href="#creating_a_database_to_store_sigmah_data">Creating a database to store Sigmah data</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#windows">Windows</a></div></li>
<li class="level3"><div class="li"><a href="#linux">Linux</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#creating_a_folder_to_store_sigmah_files">Creating a folder to store Sigmah files</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#step_1fork_the_official_github_repository">Step 1: fork the official Github repository</a></div></li>
<li class="level1"><div class="li"><a href="#step_2get_a_local_copy_of_the_source">Step 2: get a local copy of the source</a></div></li>
<li class="level1"><div class="li"><a href="#step_3your_first_build">Step 3: your first build</a></div></li>
<li class="level1"><div class="li"><a href="#step_4create_the_database_schema">Step 4: create the database schema</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="step_0prerequisites">Step 0: prerequisites</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="environment_and_tooling">Environment and tooling</h2>
<div class="level2">

<p>
If you want to start developing on sigmah, you need to set your environment up. If you develop Java application on a regular basis, you may already fulfill all the requirements. Any Sigmah developer needs the following:
</p>
<ul>
<li class="level1"><div class="li"> JDK 1.6*</div>
</li>
<li class="level1"><div class="li"> Postgresql 9</div>
</li>
<li class="level1"><div class="li"> Maven 3</div>
</li>
<li class="level1"><div class="li"> Git 2.7</div>
</li>
</ul>

<p>
Before continuing, make sure everything is properly installed.
</p>

<p>
<em>*JDK 1.6</em> : JDK8 is actually better for use with Sigmah since it removes some headaches related to memory management. However, the syntax is limited to Java 6 in the client and shared packages due to the outdated version of GWT required by GXT. So any JDK from JDK6 will do the job, but new syntax added in JDK7 and JDK8 should not be used in the client and shared packages.
</p>

</div>

<h2 class="sectionedit3" id="creating_a_database_to_store_sigmah_data">Creating a database to store Sigmah data</h2>
<div class="level2">

</div>

<h3 class="sectionedit4" id="windows">Windows</h3>
<div class="level3">

<p>
Now you should have a PostgreSQL server and pgAdmin III installed. To be able to test your development with Sigmah, you will need to create now a test database.
</p>
<ul>
<li class="level1"><div class="li">Open pgAdmin III.</div>
</li>
</ul>

<p>
<img src="lib/exe/22_pgadminiii8bd4.png_%3b?media=contributorguide:22_pgadminiii.png" class="media" alt="" />
</p>
<ul>
<li class="level1"><div class="li">Connect to your server, and add a new database.</div>
</li>
</ul>

<p>
<img src="lib/exe/23_pgadminiiiea39.png_%3b?media=contributorguide:23_pgadminiii.png" class="media" alt="" />
</p>
<ul>
<li class="level1"><div class="li">Name it “sigmah”, keep “postgres” as the owner, and UTF8 encoding.</div>
</li>
</ul>

<p>
Install the <a href="https://www.postgresql.org/docs/current/static/pgtrgm.html" class="urlextern" title="https://www.postgresql.org/docs/current/static/pgtrgm.html" rel="nofollow">pg_trgm postgresql extension</a> (required so Sigmah can full-text search). Connect to the Sigmah database and run:
</p>
<dl class="file">
<dt><a href="snippet5f0e.sql?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=0" title="Download Snippet" class="mediafile mf_sql">snippet.sql</a></dt>
<dd><pre class="code file sql"><span class="kw1">CREATE</span> EXTENSION <span class="kw1">IF</span> <span class="kw1">NOT</span> <span class="kw1">EXISTS</span> pg_trgm;</pre>
</dd></dl>

</div>

<h3 class="sectionedit5" id="linux">Linux</h3>
<div class="level3">

<p>
Connect as the postgres user, it&#039;s required for anything about your local PosgreSQL instance.
</p>
<dl class="file">
<dt><a href="snippet3e02.bash?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=1" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash"><span class="kw2">sudo</span> <span class="kw2">su</span> postgres</pre>
</dd></dl>

<p>
We will create a PostgreSQL user, let&#039;s call him “sigmah” and give it the right to create a database
</p>
<dl class="file">
<dt><a href="snippet04d4.bash?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=2" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">createuser sigmah <span class="re5">--createdb</span> <span class="re5">--pwprompt</span></pre>
</dd></dl>

<p>
You will be prompted a password, let&#039;s enter 
</p>
<pre class="code">hamsig</pre>

<p>
That&#039;s all we need to do as postgres, log out from postgres user and continue as your everyday user.
</p>

<p>
Now the user is created, let&#039;s create him a database (with UTF-8 encoding)
</p>
<dl class="file">
<dt><a href="snippet8775.bash?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=3" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">createdb <span class="re5">-U</span> sigmah sigmah <span class="re5">-E</span> utf-<span class="nu0">8</span></pre>
</dd></dl>

<p>
Now, log out from postgres user.
</p>

<p>
Let&#039;s check everything is OK by connecting:
</p>
<dl class="file">
<dt><a href="snippet9e12.bash?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=4" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">psql sigmah <span class="re5">-U</span> sigmah</pre>
</dd></dl>

<p>
Enter the hamsig password. If you connected successfully, everything is OK.
</p>

<p>
Install the <a href="https://www.postgresql.org/docs/current/static/pgtrgm.html" class="urlextern" title="https://www.postgresql.org/docs/current/static/pgtrgm.html" rel="nofollow">pg_trgm postgresql extension</a> (required so Sigmah can full-text search):
</p>
<dl class="file">
<dt><a href="snippet591d.bash?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=5" title="Download Snippet" class="mediafile mf_bash">snippet.bash</a></dt>
<dd><pre class="code file bash">psql <span class="re5">--username</span> postgres sigmah <span class="re5">--command</span> <span class="st0">&quot;CREATE EXTENSION IF NOT EXISTS pg_trgm;&quot;</span></pre>
</dd></dl>

</div>

<h2 class="sectionedit6" id="creating_a_folder_to_store_sigmah_files">Creating a folder to store Sigmah files</h2>
<div class="level2">

<p>
Create any folder in your filesystem to store Sigmah application files: organisation logo, files attachment and archives workdir.
In the rest of this procedure, we&#039;ll consider that this folder will be a Windows folder <code>C:\Sigmah\files\sigmah_lightdev</code>.
</p>

</div>

<h1 class="sectionedit7" id="step_1fork_the_official_github_repository">Step 1: fork the official Github repository</h1>
<div class="level1">

<p>
The main Sigmah repository is hosted at github. To contribute, you should fork the project first.
</p>

<p>
Go to <a href="https://github.com/sigmah-dev/sigmah" class="urlextern" title="https://github.com/sigmah-dev/sigmah" rel="nofollow">https://github.com/sigmah-dev/sigmah</a> and click “Fork”. Github will create your own repository, with its own <abbr title="Uniform Resource Locator">URL</abbr> like: <a href="https://github.com/" class="urlextern" title="https://github.com/" rel="nofollow">https://github.com/</a><strong>your-github-account</strong>/sigmah.git
</p>

</div>

<h1 class="sectionedit8" id="step_2get_a_local_copy_of_the_source">Step 2: get a local copy of the source</h1>
<div class="level1">

<p>
You can now get the source on your local machine, by using command-line:
</p>
<pre class="code">git clone https://github.com/your-github-account/sigmah.git</pre>

<p>
<strong>[Optional] If you are under Windows</strong>, type also now the following config command to avoid end-of-line issues while committing:
</p>
<pre class="code">git config --global core.autocrlf true</pre>

</div>

<h1 class="sectionedit9" id="step_3your_first_build">Step 3: your first build</h1>
<div class="level1">

<p>
Our build process is based on maven. Since you are a developer, we made the things simple for you. There is a maven profile named <code>sigmah-dev</code>. It will reduce compilation time among others simplifications to ease your daily workflow.
</p>

<p>
Now, remember that maven must be aware of your configuration so you must create a <code>settings.xml</code> file in your Maven user directory <code>.m2</code> subfolder (ie: <code>C:\Users\MyUserName\\.m2\</code> on Windows) with the following lines, which will at build time automatically override the values of the matching properties of the central Sigmah Maven <code>pom.xml</code> file:
</p>
<dl class="code">
<dt><a href="settings10f8.xml?do=export_code&amp;id=contributorguide:preparebuildenvironment&amp;codeblock=6" title="Download Snippet" class="mediafile mf_xml">settings.xml</a></dt>
<dd><pre class="code xml"><span class="sc3"><span class="re1">&lt;settings<span class="re2">&gt;</span></span></span> 
  <span class="sc3"><span class="re1">&lt;profiles<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;profile<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;id<span class="re2">&gt;</span></span></span>sigmah-dev<span class="sc3"><span class="re1">&lt;/id<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;properties<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;sigmah.database.url<span class="re2">&gt;</span></span></span>jdbc:postgresql://localhost:5432/sigmah<span class="sc3"><span class="re1">&lt;/sigmah.database.url<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;sigmah.database.user<span class="re2">&gt;</span></span></span>sigmah<span class="sc3"><span class="re1">&lt;/sigmah.database.user<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;sigmah.database.password<span class="re2">&gt;</span></span></span>hamsig<span class="sc3"><span class="re1">&lt;/sigmah.database.password<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;files.repository.name<span class="re2">&gt;</span></span></span>C:\\Sigmah\\files\\sigmah_dev<span class="sc3"><span class="re1">&lt;/files.repository.name<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;archives.repository.name<span class="re2">&gt;</span></span></span>C:\\Sigmah\\files\\sigmah_dev\\archives<span class="sc3"><span class="re1">&lt;/archives.repository.name<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/properties<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/profile<span class="re2">&gt;</span></span></span>
   <span class="sc3"><span class="re1">&lt;/profiles<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/settings<span class="re2">&gt;</span></span></span> </pre>
</dd></dl>

<p>
You can build the application using the following, traditional maven command.
</p>
<pre class="code">mvn install -Psigmah-dev</pre>

</div>

<h1 class="sectionedit10" id="step_4create_the_database_schema">Step 4: create the database schema</h1>
<div class="level1">

<p>
We rely on the Flyway database migration framework to keep everyone&#039;s postgresql instance up-to-date with every change made on the schema. Flyway can tell you the precise state or your database.
</p>
<pre class="code">mvn flyway:info -Psigmah-dev</pre>

<p>
Here is an example output.
</p>
<pre class="code">[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Sigmah 2.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- flyway-maven-plugin:3.2.1:info (default-cli) @ sigmah ---
[INFO] Flyway 3.2.1 by Boxfuse
[INFO] Database: jdbc:postgresql://localhost:5432/sigmah (PostgreSQL 9.3)
[INFO]
+---------+----------------------------------------+---------------------+---------+
| Version | Description                            | Installed on        | State   |
+---------+----------------------------------------+---------------------+---------+
| 1       | sigmah minimum data kit for sigmah 2.0 | 2016-09-01 10:09:57 | Success |
| 2       | computation field                      | 2016-09-01 10:09:59 | Success |
| 3       | project team                           | 2016-09-01 10:09:59 | Success |
| 4       | secondary org units                    | 2016-09-01 10:09:59 | Success |
| 5       | project model framework                | 2016-09-01 10:09:59 | Success |
| 6       | contacts model                         | 2016-09-01 10:09:59 | Success |
| 7       | contacts                               | 2016-09-01 10:09:59 | Success |
| 8       | contact list element                   | 2016-09-01 10:09:59 | Success |
| 9       | dedupe contacts                        |                     | Pending |
| 10      | group iterations                       |                     | Pending |
| 11      | iterations history token               |                     | Pending |
| 12      | global contact export                  |                     | Pending |
+---------+----------------------------------------+---------------------+---------+

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.927 s
[INFO] Finished at: 2016-09-01T11:17:05+02:00
[INFO] Final Memory: 14M/205M
[INFO] ------------------------------------------------------------------------</pre>

<p>
We can see that there is a <strong>pending</strong> migration. Let&#039;s run it by running 
</p>
<pre class="code">mvn flyway:migrate -Psigmah-dev</pre>

<p>
When you upgrade sigmah, always check <code>flyway:info</code> to see if there is any pending migration (and run <code>flyway:migrate</code> if necessary). If you don&#039;t do so, you may encounter random bugs due to the fact that the database schema is not quite like your sigmah version expect it.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>contributorguide/preparebuildenvironment.txt</bdi> · Last modified: 2017/06/08 12:11 by <bdi>osarrat</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="dokuee61.html?id=contributorguide:preparebuildenvironment&amp;do=edit"  class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]"><span>Show pagesource</span></a></li><li><a href="doku1e90.html?id=contributorguide:preparebuildenvironment&amp;do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="doku8070.html?id=contributorguide:preparebuildenvironment&amp;do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" class="urlextern">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img src="lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International" /></a>        <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net/" title="Powered by PHP" ><img
            src="lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="lib/exe/indexerfa83.gif?id=contributorguide%3Apreparebuildenvironment&amp;1530808571" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>

<!-- Mirrored from wiki.sigmah.org/doku.php?id=contributorguide:preparebuildenvironment by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 05 Jul 2018 16:42:23 GMT -->
</html>
