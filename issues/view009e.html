<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from www.sigmah.org/issues/view.php?id=545&nbn=3 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 25 Jul 2018 17:25:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<link rel="stylesheet" type="text/css" href="css/default.html" />
	<script type="text/javascript"><!--
		if(document.layers) {document.write("<style>td{padding:0px;}<\/style>")}
	// --></script>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma-directive" content="no-cache" />
	<meta http-equiv="Cache-Directive" content="no-cache" />
	<meta http-equiv="Expires" content="Wed, 25 Jul 2018 16:35:12 GMT" />
	<link rel="shortcut icon" href="images/favicon.html" type="image/x-icon" />
	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Text Search" href="browser_search_plugin84ae.html?type=text" />	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Issue Id" href="browser_search_pluginb70d.html?type=id" />	<title>0000545: Blocked users appear Active in user administration - Sigmah Issue Tracker</title>
<script type="text/javascript" src="javascript/min/common.html"></script>
<script type="text/javascript">var loading_lang = "Loading...";</script><script type="text/javascript" src="javascript/min/ajax.js"></script>
<link rel="stylesheet" type="text/css" href="plugin_filea93c.css?file=Source/style.css"/></head>
<body>
<div align="left"><a href="my_view_page.html"><img border="0" alt="Sigmah Issue Tracker" src="images/sigmah-logo-Mantis.html" /></a></div><table class="hide"><tr><td class="login-info-left">Anonymous | <a href="login_pageb47d.html?return=%2Fissues%2Fview.php%3Fid%3D545%26nbn%3D3">Login</a> | <a href="signup_page.html">Signup for a new account</a></td><td class="login-info-middle"><span class="italic">2018-07-25 18:35 CEST</span></td><td class="login-info-right"><form method="post" name="form_set_project" action="http://www.sigmah.org/issues/set_project.php">Project: <select name="project_id" class="small" onchange="document.forms.form_set_project.submit();"><option value="0" selected="selected" >All Projects</option>
<option value="1">sigmah</option>
<option value="4">Sigmah Central</option>
</select> <input type="submit" class="button-small" value="Switch" /></form><a href="200_rss_Sigmah_Issue_Tracker_-_Issuesd41d.xml?"><img src="images/rss.html" alt="RSS" style="border-style: none; margin: 5px; vertical-align: middle;" /></a></td></tr></table><table class="width100" cellspacing="0"><tr><td class="menu"><a href="my_view_page.html">My View</a> | <a href="view_all_bug_page.html">View Issues</a> | <a href="changelog_page.html">Change Log</a> | <a href="roadmap_page.html">Roadmap</a> | <a href="plugina0e2.html?page=Source/index">Repositories</a> | <a href="account_page.html">My Account</a></td><td class="menu right nowrap"><form method="post" action="http://www.sigmah.org/issues/jump_to_bug.php"><input type="text" name="bug_id" size="10" class="small" value="Issue #" onfocus="if (this.value == 'Issue #') this.value = ''" onblur="if (this.value == '') this.value = 'Issue #'" />&#160;<input type="submit" class="button-small" value="Jump" />&#160;</form></td></tr></table><br /><table class="width100" cellspacing="1"><tr><td class="form-title" colspan="3">View Issue Details&#160;<span class="small"><span class="bracket-link">[&#160;<a href="#bugnotes">Jump to Notes</a>&#160;]</span> </span></td><td class="center"><span class="small"></span></td><td class="right" colspan="2"><span class="small"><span class="bracket-link">[&#160;<a href="viewf415.html?id=545&amp;history=1#history">Issue History</a>&#160;]</span> </span><span class="small"><span class="bracket-link">[&#160;<a href="print_bug_page33f6.html?bug_id=545">Print</a>&#160;]</span> </span></td></tr><tr><td class="category" width="15%">ID</td><td class="category" width="20%">Project</td><td class="category" width="15%">Category</td><td class="category" width="15%">View Status</td><td class="category" width="15%">Date Submitted</td><td class="category" width="20%">Last Update</td></tr><tr class="row-1"><td>0000545</td><td>sigmah</td><td>Administration</td><td>public</td><td>2013-02-28 17:57</td><td>2015-04-07 12:43</td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-2"><td class="category">Reporter</td><td>osarrat</td><td colspan="4">&#160;</td></tr><tr class="row-1"><td class="category">Assigned To</td><td>spM</td><td colspan="4">&#160;</td></tr><tr class="row-2"><td class="category">Priority</td><td>normal</td><td class="category">Severity</td><td>major</td><td class="category">Reproducibility</td><td>always</td></tr><tr class="row-1"><td class="category">Status</td><td bgcolor="#c2dfff">assigned</td><td class="category">Resolution</td><td>open</td><td colspan="2">&#160;</td></tr><tr class="row-2"><td class="category">Platform</td><td></td><td class="category">OS</td><td></td><td class="category">OS Version</td><td></td></tr><tr class="row-1"><td class="category">Product Version</td><td>1.1.1</td><td colspan="4">&#160;</td></tr><tr class="row-2"><td class="category">Target Version</td><td>next-but-one</td><td class="category">Fixed in Version</td><td></td><td colspan="2">&#160;</td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-1"><td class="category">Summary</td><td colspan="5">0000545: Blocked users appear Active in user administration</td></tr><tr class="row-2"><td class="category">Description</td><td colspan="5">Even if a user has been disabled, when the user table in the administration is opened back, the user will be marked as &quot;Active&quot;.</td></tr><tr class="row-1"><td class="category">Steps To Reproduce</td><td colspan="5">1. Disable a user<br />
2. Quit the administration<br />
3. Quit the application<br />
4. Try to log in with the blocked user =&gt; impossible to log in<br />
5. Open the application with an admin user<br />
6. Open the administration<br />
=&gt; the user account you've disabled appear as &quot;Active&quot; even if you've disabled it.</td></tr><tr class="row-2"><td class="category">Tags</td><td colspan="5"><a href='tag_view_page5916.html?tag_id=15' title='Easiest issues to pick up when starting to contribute on the project.'>LowHangingFruits</a></td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-1"><td class="category">User Report URL</td><td colspan="5"><a href="http://www.sigmah.org/node/682">http://www.sigmah.org/node/682</a> [<a href="http://www.sigmah.org/node/682" target="_blank">^</a>]</td></tr><tr class="row-2"><td class="category">OS</td><td colspan="5">NA</td></tr><tr class="row-1"><td class="category">Other OS</td><td colspan="5"></td></tr><tr class="row-2"><td class="category">Browser</td><td colspan="5">NA</td></tr><tr class="row-1"><td class="category">Other browser</td><td colspan="5"></td></tr><tr class="row-2"><td class="category">ScreenURL</td><td colspan="5"></td></tr><tr class="row-1"><td class="category">(ActivityInfo) Noticed in revision</td><td colspan="5"></td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-2"><td class="category"><a name="attachments" id="attachments" />Attached Files</td><td colspan="5"><a href="545f90c.patch?file_id=152&amp;type=bug"><img src="images/fileicons/text.html" alt="patch file icon" width="16" height="16" border="0" /></a>&#160;<a href="545f90c.patch?file_id=152&amp;type=bug">545.patch</a> [<a href="545f90c.patch?file_id=152&amp;type=bug" target="_blank">^</a>] (1,195 bytes) <span class="italic">2014-03-12 01:34</span><script type="text/javascript" language="JavaScript">
<!--
function swap_content( span ) {
displayType = ( document.getElementById( span ).style.display == 'none' ) ? '' : 'none';
document.getElementById( span ).style.display = displayType;
}

 -->
 </script> <span id="hideSection_152">[<a class="small" href='#' id='attmlink_152' onclick='swap_content("hideSection_152");swap_content("showSection_152");return false;'>Show Content</a>]</span> <span style='display:none' id="showSection_152">[<a class="small" href='#' id='attmlink_152' onclick='swap_content("hideSection_152");swap_content("showSection_152");return false;'>Hide Content</a>]<pre>Index: sigmah/src/main/java/org/sigmah/shared/dto/UserDTO.java
===================================================================
--- sigmah/src/main/java/org/sigmah/shared/dto/UserDTO.java	(revision 1561)
+++ sigmah/src/main/java/org/sigmah/shared/dto/UserDTO.java	(working copy)
@@ -116,6 +116,17 @@
     }
     
     public boolean getActive(){
+    	// Fix Me
+    	// The line below is a crazy fix for the issue ::http://www.sigmah.org/issues/view.php?id=545
+    	// And is only a temporary solution. 
+    	// For some reason, in the absence of an immediate set operation, the parameters list for the model 
+    	// doesnot contain the parameter &quot;active&quot;, and hence returns null
+    	// This is a general class of bug, where a small delay in processing (caused by some dummy action) before 
+    	// the problematic function, causes the function to work as expected. 
+    	// This warrants a more in-depth analysis, and I will send in an updated patch after I get the debugger on 
+    	// my IDE to work properly and manage to set breakpoints.
+    	setName(getName());
+    	
     	Boolean isActive = (Boolean) get(&quot;active&quot;);
     	return isActive == null ? true : isActive;
     }
</pre></span>
</td></tr><tr align="center"><td align="center" colspan="6"><table><tr class="vcenter"><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td></tr></table></td></tr></table><br />

<div id="relationships_open"><table class="width100" cellspacing="1">
<tr class="row-2" valign="top">
	<td width="15%" class="form-title" colspan="2">
		<a href="#" onclick="ToggleDiv( 'relationships' ); return false;"
			><img border="0" src="images/minus.html" alt="-" /></a>&#160;Relationships	</td>
</tr>
<tr>
	<td colspan="2"></td>
</tr>
</table>

</div><div id="relationships_closed" class="hidden"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title">
		<a href="#" onclick="ToggleDiv( 'relationships' ); return false;"
			><img border="0" src="images/plus.html" alt="+" /></a>&#160;Relationships	</td>
</tr>
</table>

</div>
<a name="bugnotes" id="bugnotes" /><br />

<div id="bugnotes_open"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
<a href="#" onclick="ToggleDiv( 'bugnotes' ); return false;"
			><img border="0" src="images/minus.html" alt="-" /></a>&#160;		Notes	</td>
</tr>
<tr class="bugnote" id="c1390">
        <td class="bugnote-public">
				<span class="small">(<a href="viewf7b9.html?id=545#c1390" title="Direct link to note">0001390)</a></span><br />
		<a href="view_user_page3162.html?id=26">spM</a>		<span class="small">(developer)</span>
				<br />
		<span class="small">2014-03-12 01:34</span><br />
		<span class="small">edited on:&#32;2014-03-12 09:56</span><br />		<br /><div class="small">
				</div>
	</td>
	<td class="bugnote-note-public">
		Hi,<br />
So for some reason my installation of Eclipse wont let me set breakpoints, so I have been mostly debugging using only Print Statements, etc.<br />
<br />
On preliminary analysis this turned out to a bug from the class of bugs where one particular function does not behave as expected ( in our case the get(&quot;active&quot;) call in the getActive() function in UserDTO.java) , and adding a small processing delay before calling the function fixes the problem. This is usually because of some issue with interactions between two separate threads. And it is pretty difficult to analyze an issue like this without the luxury of breakpoints.<br />
<br />
(Edit :: Forgot to mention the name and reference for the class of the bug :: This class of bugs is called a Heisenbugs, and more on them here : <a href="http://cowboyprogramming.com/2008/03/23/debugging-heisenbugs/">http://cowboyprogramming.com/2008/03/23/debugging-heisenbugs/</a> [<a href="http://cowboyprogramming.com/2008/03/23/debugging-heisenbugs/" target="_blank">^</a>] )<br />
<br />
As this issue was tagged as &quot;Major&quot; , I have added a patch which fixes the issue in terms of usability. But, I will give it a closer look after I have my debugger fixed, and come up with a fix which adheres more closely to Software Engineering principles.<br />
<br />
	</td>
</tr>
<tr class="spacer">
	<td colspan="2"></td>
</tr>
<tr class="bugnote" id="c1547">
        <td class="bugnote-public">
				<span class="small">(<a href="viewf7b9.html?id=545#c1547" title="Direct link to note">0001547)</a></span><br />
		<a href="view_user_page0b30.html?id=2">osarrat</a>		<span class="small">(administrator)</span>
				<br />
		<span class="small">2015-03-02 12:43</span><br />
				<br /><div class="small">
				</div>
	</td>
	<td class="bugnote-note-public">
		Mohanty, would you have some time to fix this issue as part of v2.0?	</td>
</tr>
<tr class="spacer">
	<td colspan="2"></td>
</tr>
<tr class="bugnote" id="c1582">
        <td class="bugnote-public">
				<span class="small">(<a href="viewf7b9.html?id=545#c1582" title="Direct link to note">0001582)</a></span><br />
		<a href="view_user_page0b30.html?id=2">osarrat</a>		<span class="small">(administrator)</span>
				<br />
		<span class="small">2015-04-07 12:43</span><br />
				<br /><div class="small">
				</div>
	</td>
	<td class="bugnote-note-public">
		Issue shifted to target version 2.1 because not included in the codebase for v2.0-rc1.	</td>
</tr>
<tr class="spacer">
	<td colspan="2"></td>
</tr>
</table>

</div><div id="bugnotes_closed" class="hidden">
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
		<a href="#" onclick="ToggleDiv( 'bugnotes' ); return false;"
			><img border="0" src="images/plus.html" alt="+" /></a>&#160;		Notes	</td>
</tr>
</table>
</div>
<a name="history" id="history" /><br />

<div id="history_open"><table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
<a href="#" onclick="ToggleDiv( 'history' ); return false;"
			><img border="0" src="images/minus.html" alt="-" /></a>&#160;Issue History	</td>
</tr>
<tr class="row-category-history">
	<td class="small-caption">
		Date Modified	</td>
	<td class="small-caption">
		Username	</td>
	<td class="small-caption">
		Field	</td>
	<td class="small-caption">
		Change	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2013-02-28 17:57	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		New Issue	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2013-02-28 18:01	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		User Report URL	</td>
	<td class="small-caption">
		 =&gt; <a href="http://www.sigmah.org/node/682">http://www.sigmah.org/node/682</a> [<a href="http://www.sigmah.org/node/682" target="_blank">^</a>]	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2013-02-28 18:01	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Summary	</td>
	<td class="small-caption">
		Disabled users appear enabled in user administration =&gt; Blocked users appear Active in user administration	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2014-03-04 10:11	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Tag Attached: NewComersSpecial	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2014-03-04 10:40	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Assigned To	</td>
	<td class="small-caption">
		 =&gt; pubci	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2014-03-04 10:40	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Status	</td>
	<td class="small-caption">
		new =&gt; assigned	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2014-03-12 01:34	</td>
	<td class="small-caption">
		<a href="view_user_page3162.html?id=26">spM</a>	</td>
	<td class="small-caption">
		Note Added: 0001390	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2014-03-12 01:34	</td>
	<td class="small-caption">
		<a href="view_user_page3162.html?id=26">spM</a>	</td>
	<td class="small-caption">
		File Added: 545.patch	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2014-03-12 09:56	</td>
	<td class="small-caption">
		<a href="view_user_page3162.html?id=26">spM</a>	</td>
	<td class="small-caption">
		Note Edited: 0001390	</td>
	<td class="small-caption">
		<a href="bug_revision_view_page550f.html?bugnote_id=1390#r452">View Revisions</a>	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2014-03-12 10:09	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Assigned To	</td>
	<td class="small-caption">
		pubci =&gt; spM	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2015-03-02 12:43	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Note Added: 0001547	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2015-04-07 12:43	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Note Added: 0001582	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2015-04-07 12:43	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Target Version	</td>
	<td class="small-caption">
		2.0 =&gt; next-but-one	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2016-03-03 09:39	</td>
	<td class="small-caption">
		<a href="view_user_page0b30.html?id=2">osarrat</a>	</td>
	<td class="small-caption">
		Tag Renamed	</td>
	<td class="small-caption">
		NewComersSpecial =&gt; LowHangingFruits	</td>
</tr>
</table>
</div><div id="history_closed" class="hidden"><table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
	<a href="#" onclick="ToggleDiv( 'history' ); return false;"
			><img border="0" src="images/plus.html" alt="+" /></a>&#160;Issue History	</td>
</tr>
</table>

</div>	<br />
	<hr size="1" />
<table border="0" width="100%" cellspacing="0" cellpadding="0"><tr valign="top"><td>	<address>Copyright &copy; 2000 - 2018 MantisBT Team</address>
</td><td>
	<div align="right"><a href="http://www.mantisbt.org/" title="Free Web Based Bug Tracker"><img src="images/mantis_logo.html" width="145" height="50" alt="Powered by Mantis Bugtracker" border="0" /></a></div>
</td></tr></table>
</body>

<!-- Mirrored from www.sigmah.org/issues/view.php?id=545&nbn=3 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 25 Jul 2018 17:25:10 GMT -->
</html>
