<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from www.sigmah.org/issues/print_bug_page.php?bug_id=535 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 25 Jul 2018 15:52:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<link rel="stylesheet" type="text/css" href="css/default.css" />
	<script type="text/javascript"><!--
		if(document.layers) {document.write("<style>td{padding:0px;}<\/style>")}
	// --></script>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma-directive" content="no-cache" />
	<meta http-equiv="Cache-Directive" content="no-cache" />
	<meta http-equiv="Expires" content="Wed, 25 Jul 2018 15:18:55 GMT" />
	<link rel="shortcut icon" href="images/favicon.html" type="image/x-icon" />
	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Text Search" href="browser_search_plugin84ae.html?type=text" />	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Issue Id" href="browser_search_pluginb70d.html?type=id" />	<title>0000535: Full text search engine - Sigmah Issue Tracker</title>
<script type="text/javascript" src="javascript/min/common.html"></script>
<script type="text/javascript">var loading_lang = "Loading...";</script><script type="text/javascript" src="javascript/min/ajax.js"></script>
<link rel="stylesheet" type="text/css" href="plugin_filea93c.css?file=Source/style.css"/></head>
<body>
<br /><table class="width100" cellspacing="1"><tr><td class="form-title" colspan="6"><div class="center">Sigmah Issue Tracker - sigmah</div></td></tr><tr><td class="form-title" colspan="6">View Issue Details</td></tr><tr><td class="print-spacer" colspan="6"><hr size="1" /></td></tr><tr class="print-category"><td class="print" width="16%">ID</td><td class="print" width="16%">Project</td><td class="print" width="16%">Category</td><td class="print" width="16%">View Status</td><td class="print" width="16%">Date Submitted</td><td class="print" width="16%">Last Update</td></tr><tr class="print"><td class="print">0000535</td><td class="print">sigmah</td><td class="print">[All Projects] General</td><td class="print">public</td><td class="print">2013-02-25 17:21</td><td class="print">2017-07-10 10:29</td></tr><tr><td class="print-spacer" colspan="6"><hr size="1" /></td></tr><tr class="print"><td class="print-category">Reporter</td><td class="print">osarrat</td><td class="print" colspan="4">&#160;</td></tr><tr class="print"><td class="print-category">Assigned To</td><td class="print">indianauthority97</td><td class="print" colspan="4">&#160;</td></tr><tr class="print"><td class="print-category">Priority</td><td class="print">normal</td><td class="print-category">Severity</td><td class="print">feature</td><td class="print-category">Reproducibility</td><td class="print">N/A</td></tr><tr class="print"><td class="print-category">Status</td><td class="print">assigned</td><td class="print-category">Resolution</td><td class="print">open</td><td class="print" colspan="2">&#160;</td></tr><tr class="print"><td class="print-category">Platform</td><td class="print"></td><td class="print-category">OS</td><td class="print"></td><td class="print-category">OS Version</td><td class="print"></td></tr><tr class="print"><td class="print-category">Product Version</td><td class="print">1.1.1</td><td class="print" colspan="4">&#160;</td></tr><tr><td class="print-category">Target Version</td><td class="print">3.1</td><td class="print-category">Fixed in Version</td><td class="print"></td><td class="print" colspan="2">&#160;</td></tr><tr class="print"><td class="print-category">User Report URL</td><td class="print" colspan="4"></td></tr><tr class="print"><td class="print-category">OS</td><td class="print" colspan="4">NA</td></tr><tr class="print"><td class="print-category">Other OS</td><td class="print" colspan="4"></td></tr><tr class="print"><td class="print-category">Browser</td><td class="print" colspan="4">NA</td></tr><tr class="print"><td class="print-category">Other browser</td><td class="print" colspan="4"></td></tr><tr class="print"><td class="print-category">ScreenURL</td><td class="print" colspan="4"></td></tr><tr class="print"><td class="print-category">(ActivityInfo) Noticed in revision</td><td class="print" colspan="4"></td></tr><tr><td class="print-spacer" colspan="6"><hr size="1" /></td></tr><tr class="print"><td class="print-category">Summary</td><td class="print" colspan="5">0000535: Full text search engine</td></tr><tr class="print"><td class="print-category">Description</td><td class="print" colspan="5">Search engine should work by free text search. Search is made into every field of projects and orgunits. For example, a list of projects can be retrieved if a number is given, and if that number is an installment amount.<br />
Search options should give the ability to include closed projects, orgunit in the search, or to search only in specific type of fields: installments, budget, project/orgunit code, title, category (could be used for donor for example).<br />
This search engine doesn't need for the time being to search into all attached files.<br />
The search engine could be based on the integration of Apache Solr.</td></tr><tr class="print"><td class="print-category">Steps To Reproduce</td><td class="print" colspan="5"></td></tr><tr class="print"><td class="print-category">Additional Information</td><td class="print" colspan="5"><b>Search Engine detailed specifications</b><br />
Google Docs : <a href="https://docs.google.com/document/d/1sBFd4EBLxsPP0nHq4KMDhhsnGfGmo__1Sz-AOMtIpY8/edit?usp=sharing">https://docs.google.com/document/d/1sBFd4EBLxsPP0nHq4KMDhhsnGfGmo__1Sz-AOMtIpY8/edit?usp=sharing</a> [<a href="https://docs.google.com/document/d/1sBFd4EBLxsPP0nHq4KMDhhsnGfGmo__1Sz-AOMtIpY8/edit?usp=sharing" target="_blank">^</a>]<br />
This document describes notably the minimal Search Engine version.<br />
<br />
<b>Mockup</b><br />
<a href="mockups/SearchEngine/index.html">http://www.sigmah.org/issues/mockups/SearchEngine/</a> [<a href="mockups/SearchEngine/index.html" target="_blank">^</a>]<br />
<br />
To make a good mockup with a use case scenario which would help understand your mockup and build a better UI, you can pick up ideas from our mockups database : <a href="mockups/index.html">http://www.sigmah.org/issues/mockups/</a> [<a href="mockups/index.html" target="_blank">^</a>]</td></tr><tr class="print"><td class="print-category">Tags</td><td class="print" colspan="5"><a href='tag_view_page66d1.html?tag_id=4' title=''>Search</a></td></tr><tr class="print"><td class="print-category">Relationships</td><td class="print" colspan="5"></td></tr><tr class="print"><td class="print-category">Attached Files</td><td class="print" colspan="5"><img src="images/fileicons/png.gif" alt="png" />&#160;Search_progress3.png (225,681) <span class="italic">2017-06-30 14:51</span><br />http://www.sigmah.org/issues/file_download.php?file_id=409&amp;type=bug<br /><img src="Search_progress38763.png?file_id=409&amp;type=bug" alt="png" border="0" /><br /></td></tr><tr><td class="print-spacer" colspan="6"><hr size="1" /></td></tr><tr><td class="form-title">Issue History</td></tr><tr class="print-category"><td class="row-category-history">Date Modified</td><td class="row-category-history">Username</td><td class="row-category-history">Field</td><td class="row-category-history">Change</td></tr><tr class="print"><td class="print">2013-02-25 17:21</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">New Issue</td><td class="print"></td></tr><tr class="print"><td class="print">2013-02-25 17:22</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Category</td><td class="print">Administration =&gt; General</td></tr><tr class="print"><td class="print">2013-02-26 15:33</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Tag Attached: Search</td><td class="print"></td></tr><tr class="print"><td class="print">2017-05-22 09:44</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Assigned To</td><td class="print"> =&gt; indianauthority97</td></tr><tr class="print"><td class="print">2017-05-22 09:44</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Status</td><td class="print">new =&gt; assigned</td></tr><tr class="print"><td class="print">2017-05-22 10:51</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Added: 0002470</td><td class="print"></td></tr><tr class="print"><td class="print">2017-05-22 10:51</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Additional Information Updated</td><td class="print">bug_revision_view_page.php?rev_id=1019#r1019</td></tr><tr class="print"><td class="print">2017-05-22 14:29</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Edited: 0002470</td><td class="print">bug_revision_view_page.php?bugnote_id=2470#r1021</td></tr><tr class="print"><td class="print">2017-06-01 16:45</td><td class="print"><a href="view_user_page5cee.html?id=118">indianauthority97</a></td><td class="print">Note Added: 0002472</td><td class="print"></td></tr><tr class="print"><td class="print">2017-06-07 12:49</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Added: 0002474</td><td class="print"></td></tr><tr class="print"><td class="print">2017-06-07 12:49</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Additional Information Updated</td><td class="print">bug_revision_view_page.php?rev_id=1028#r1028</td></tr><tr class="print"><td class="print">2017-06-26 11:32</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Added: 0002478</td><td class="print"></td></tr><tr class="print"><td class="print">2017-06-30 14:51</td><td class="print"><a href="view_user_page5cee.html?id=118">indianauthority97</a></td><td class="print">File Added: Search_progress3.png</td><td class="print"></td></tr><tr class="print"><td class="print">2017-06-30 14:52</td><td class="print"><a href="view_user_page5cee.html?id=118">indianauthority97</a></td><td class="print">Note Added: 0002479</td><td class="print"></td></tr><tr class="print"><td class="print">2017-07-07 12:10</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Added: 0002482</td><td class="print"></td></tr><tr class="print"><td class="print">2017-07-07 14:12</td><td class="print"><a href="view_user_page0b30.html?id=2">osarrat</a></td><td class="print">Note Edited: 0002482</td><td class="print">bug_revision_view_page.php?bugnote_id=2482#r1036</td></tr><tr class="print"><td class="print">2017-07-10 10:29</td><td class="print"><a href="view_user_page5cee.html?id=118">indianauthority97</a></td><td class="print">Note Added: 0002483</td><td class="print"></td></tr></table>
<br />
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
		Notes	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002470)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page0b30.html?id=2">osarrat</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-05-22 10:51&#160;&#160;&#160;
				<br />(edited on:&#32;2017-05-22 14:29)			</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Hi indianauthority !<br />
Thanks for replies to technical question and the mockups you have sent on the sigmah-dev mailing list (<a href="https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/YgLwMA05AgAJ">https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/YgLwMA05AgAJ</a> [<a href="https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/YgLwMA05AgAJ" target="_blank">^</a>] ) This is already a very piece of work to start to work on!<br />
<br />
I've uploaded this <b>revision 01 of those mockups here: <a href="mockups/SearchEngine/rev01/index.html">http://www.sigmah.org/issues/mockups/SearchEngine/rev01/</a> [<a href="mockups/SearchEngine/rev01/index.html" target="_blank">^</a>] </b><br />
<br />
Here is my <b>review of this mockup rev01:</b><br />
* mocking up process feedback: <br />
- can you export in HTML+png from Pencil instead of just PNG ? (easier to publish afterwards)<br />
- recommendation: use a scenario as close as possible to reality (search terms used in projects, data from the demo, etc.)<br />
* screen 01:<br />
- can you add &quot;All&quot; on top of the drop-down list of kind of objects to search ?<br />
- can you add a comment bubble like you did on other screens to distinguish what is planned in the &quot;minimal first version of the search engine&quot; and what is planned for later versions ?<br />
- can we simplify even more the search bar ? Ideas: removing the &quot;Search for&quot; label &amp; moving the search objects drop-down list to the right of the search, renaming the &quot;Enter search text&quot; placeholder into &quot;Search&quot; <br />
* screen 02:<br />
- can you rename the &quot;Search&quot; tab into your search query put in quotes ? (ie: &quot;myanmar&quot;) =&gt; the idea is to easily have several tabs with different search results that the user can easily distinguish. Do you like the idea ?<br />
- can you rename the window title &quot;Your results&quot; into something very close to the tab title ? (ie: '&quot;myanmar&quot; - Search results')<br />
- I would recommend that you revise the search results to match Sigmah demo data: something smart has to be invented here on how to display those search results ! You can maybe look at similar software to pick up ideas.<br />
- unfold the search objects drop-down list as it should not be folded when search is complete<br />
- can you add the search filters somewhere (even if not required in minimal version) ? It is useful to have clear vision of where we want to go, even if you don't have time to implement everything during the summer.<br />
* screen 03:<br />
- The &quot;Search&quot; (not in caps like &quot;SEARCH&quot;) global permission should be inserted in the &quot;Others&quot; group (as the &quot;Global export&quot;)<br />
- For the &quot;Search index update&quot; permission, I would rather recommend you to investigate on the automatic update of the index. Is it possible ?<br />
* screen 04:<br />
No feedback on this screen: work on it will depend on the reply to the &quot;automatic index update&quot; question.<br />
<br />
<b>Solr indexes auto-update</b><br />
It is great news that you found this documentation on the scheduling of the update of the index. My two cents on this issue would be to consider Sigmah scheduling capacity instead of the Operating System one (ie: cron).<br />
For the Global Export, a scheduler has been installed. More information:<br />
<a href="https://github.com/sigmah-dev/sigmah/tree/master/src/main/java/org/sigmah/server/autoExport">https://github.com/sigmah-dev/sigmah/tree/master/src/main/java/org/sigmah/server/autoExport</a> [<a href="https://github.com/sigmah-dev/sigmah/tree/master/src/main/java/org/sigmah/server/autoExport" target="_blank">^</a>]<br />
Do you think it might be possible to use this Sigmah scheduler to call the Solr index update service ?<br />
<br />
<br />
<br />
Best!<br />
<br />
			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002472)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page5cee.html?id=118">indianauthority97</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-06-01 16:45&#160;&#160;&#160;
							</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Hi Olivier, I have a request which is due to a rather unlucky scenario I am facing. It seems that the Skype group conversations that we had have all disappeared from my account. Hence, I have lost the link to the mock database that you had attached. I was earlier under the impression that the conversation would exist and I would be able to fetch it easily. Please attach it here again. Thank you so much! PS: If you have the conversation in text or other format, please do send that over as well!			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002474)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page0b30.html?id=2">osarrat</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-06-07 12:49&#160;&#160;&#160;
							</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Mockups database URL added in Additional information.			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002478)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page0b30.html?id=2">osarrat</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-06-26 11:32&#160;&#160;&#160;
							</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				In reply to questions raised in your last weekly report ( <a href="https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/1ZyW1EBrAgAJ">https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/1ZyW1EBrAgAJ</a> [<a href="https://groups.google.com/d/msg/sigmah-dev/AIs30oa-kMI/1ZyW1EBrAgAJ" target="_blank">^</a>] ).<br />
<br />
<b>2)  Demo database</b><br />
Sorry for not having any demo database with more demo data. In this database, there are projects with some data like IF1247 or IF1389. This is all we have so far.<br />
<br />
<b>4)  Introduce automatic indexing.</b><br />
Is there another solution than delta-import for automatic indexing ? Can you just schedule a full import like every 10 minutes ?<br />
Can we postpone to a later version of the search engine the implementation of delta import ?<br />
<br />
I let nikita reply to any other question you may have.<br />
<br />
Welcome back after your trip which I hope was very enjoyable !			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002479)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page5cee.html?id=118">indianauthority97</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-06-30 14:52&#160;&#160;&#160;
							</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Hi, I've attached a screenshot best showing my progress so far.			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002482)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page0b30.html?id=2">osarrat</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-07-07 12:10&#160;&#160;&#160;
				<br />(edited on:&#32;2017-07-07 14:12)			</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Feedbacks on your latest weekly report:<br />
- Great for the image showing object type! But could you put the image on the same line as the object title ?<br />
- Can you commit in github the files required for SolR configuration ? (they are part of the installation/packaging which is required now)<br />
<br />
Regarding your lack of data,you can use the mass import feature to create easily hundreds of project. You can create an OpenDocument Spreadsheet file with a way to put different data in each cell for each project to have a proper database to import. Another idea on this matter, you could prepare thoroughly an extended demo database that you can use to write the Search Engine QA test cases on TestLink : writing those test cases is an additionnal optional piece of work you can consider, but having this perspective could help you feel you investment in a test database more valuable and sustainable.<br />
<br />
To reply to your question: no user is able to see in deleted projects/org units. There are plans to develop a &quot;Bin&quot; feature to look at deleted items, but it is not yet developed.<br />
<br />
You are now working on permissions. You asked me earlier to give to you a comprehensive description of the permission rules in Sigmah. Do you still need it?<br />
<br />
Regarding your goals for next week/coming weeks, I don't see packaging/installation documentation as part of your goals. Before improving what you have already done (and which is really great !!), I remind you that packaging is priority number one. Your key expected result could be that at the earliest time possible, Nikita (and secondly myself) will be able to install Sigmah in dev (and secondly myself in production) mode with SolR working, and only on the basis of documentation, scripts, etc.. I recommend you to take this expected result as your main result.<br />
And the more you'll be able to script and automatize this installation process, the better it will be. Sigmah is mostly used on our shared Sigmah Central server, where each instance is installed in a separate subdomain, but on the same server. So you can start your installation requirements by considering that several items have been manually done on server (creation of a system user, etc.) and the rest is specific to a single Sigmah instance.<br />
<br />
			</td>
		</tr>
		</table>
	</td>
</tr>
<tr>
	<td class="print-spacer" colspan="2">
		<hr size="1" />
	</td>
</tr>
<tr>
	<td class="nopad" valign="top" width="20%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				(0002483)
			</td>
		</tr>
		<tr>
			<td class="print">
				<a href="view_user_page5cee.html?id=118">indianauthority97</a>&#160;&#160;&#160;
			</td>
		</tr>
		<tr>
			<td class="print">
				2017-07-10 10:29&#160;&#160;&#160;
							</td>
		</tr>
		</table>
	</td>
	<td class="nopad" valign="top" width="85%">
		<table class="hide" cellspacing="1">
		<tr>
			<td class="print">
				Hi Olivier, I had already explained a little of the installation process (in dev)  in one of the progress reports, but here it is in more detail:<br />
<br />
I have created a core called &quot;Test_Sigmah&quot; for testing the indexing.<br />
<br />
To test it out on your system locally, download, install and test solr-6.5.0 on your system.<br />
I took help from the following sites: <br />
&#160;- <a href="https://cwiki.apache.org/confluence/display/solr/Installing+Solr">https://cwiki.apache.org/confluence/display/solr/Installing+Solr</a> [<a href="https://cwiki.apache.org/confluence/display/solr/Installing+Solr" target="_blank">^</a>]<br />
&#160;- <a href="https://www.howtoforge.com/tutorial/how-to-install-and-configure-solr-on-ubuntu-1604/">https://www.howtoforge.com/tutorial/how-to-install-and-configure-solr-on-ubuntu-1604/</a> [<a href="https://www.howtoforge.com/tutorial/how-to-install-and-configure-solr-on-ubuntu-1604/" target="_blank">^</a>]<br />
<br />
Go to {solr installation dir}/solr-6.5.0/contrib/dataimporthandler/lib and paste the postgresql jar downloaded from here: <a href="https://jdbc.postgresql.org/">https://jdbc.postgresql.org/</a> [<a href="https://jdbc.postgresql.org/" target="_blank">^</a>]<br />
<br />
Clone <a href="https://github.com/sigmah-dev/sigmah/pull/97">https://github.com/sigmah-dev/sigmah/pull/97.</a> [<a href="https://github.com/sigmah-dev/sigmah/pull/97" target="_blank">^</a>]<br />
<br />
Go to sigmah/src/main/resources/solr_config and copy the folder 'Test_Sigmah'. Paste it in {solr installation dir}/solr-6.5.0/server/solr/.<br />
<br />
In this copy, go to the file Test_Sigmah/conf/data-config.xml. <br />
You will see the lines:<br />
<br />
&lt;dataSource driver=&quot;org.postgresql.Driver&quot;<br />
&#160;&#160;&#160;&#160;&#160;url=&quot;jdbc:postgresql://localhost:5432/sigmah_demo?zeroDateTimeBehavior=convertToNull&quot;<br />
&#160;&#160;&#160;&#160;&#160;user=&quot;sigmah&quot;<br />
&#160;&#160;&#160;&#160;&#160;password=&quot;hamsig&quot; /&gt;<br />
<br />
In place of sigmah_demo, write the name of your local sigmah database. Replace the values in user and password in case the username/password of your db is different.<br />
<br />
Start the solr server ( refer: <a href="https://cwiki.apache.org/confluence/display/solr/Running+Solr">https://cwiki.apache.org/confluence/display/solr/Running+Solr</a> [<a href="https://cwiki.apache.org/confluence/display/solr/Running+Solr" target="_blank">^</a>] )<br />
<br />
Go to the admin UI in your browser( <a href="http://localhost:8983/solr/">http://localhost:8983/solr/</a> [<a href="http://localhost:8983/solr/" target="_blank">^</a>] )<br />
Select 'Test_Sigmah' from the dropdown 'Core Selector'.  <br />
Go to the 'Data Import' tab and press the 'Execute' button for full-import command.<br />
Press 'Refresh Status' until the UI says 'Indexing Completed. Added/Updated X documents...' If it doesn't say this after a minute or so and seems to be stuck in a loop, check the 'Logging' tab, if it says there are errors, then there could be some mistake in my config files :(<br />
<br />
<br />
I have recently added a property in the pom.xml ( <a href="https://github.com/sigmah-dev/sigmah/pull/97/commits/0604656280e0fc5eb3c3e2ff4c253870a7b4e0e6">https://github.com/sigmah-dev/sigmah/pull/97/commits/0604656280e0fc5eb3c3e2ff4c253870a7b4e0e6</a> [<a href="https://github.com/sigmah-dev/sigmah/pull/97/commits/0604656280e0fc5eb3c3e2ff4c253870a7b4e0e6" target="_blank">^</a>] ) called solr.core.name which needs to be changed in case the name of the core is different. To change the name of the core:<br />
a)Go to Test_Sigmah/core.properties and change the name there. <br />
b)Change the name of the folder Test_Sigmah <br />
c)In your pom.xml, replace the value of solr.core.name with your solr core's name.<br />
<br />
I am trying to think of ways to automatize this process as much as possible, using scripts/front-end. Temporarily, I have thought that if a solr server is running on the shared Sigmah Central server, then for each different organization, a separate core will be allotted, and the admin of that organization provided a url to this core. He can then change this property in his instance of sigmah ( from the code or by manually clicking a button probably ). He will also have the sole access to the solr admin ui. His instance of sigmah will be able to do automatic indexing. Please provide your suggestions.			</td>
		</tr>
		</table>
	</td>
</tr>
</table>
</body>

<!-- Mirrored from www.sigmah.org/issues/print_bug_page.php?bug_id=535 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 25 Jul 2018 15:52:03 GMT -->
</html>
